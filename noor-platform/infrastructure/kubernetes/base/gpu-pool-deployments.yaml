apiVersion: apps/v1
kind: Deployment
metadata:
  name: radiant-ai-agent
  namespace: noor-platform
  labels:
    app: radiant-ai
    pool: gpu-inference
    tier: agent
    category: intelligence
spec:
  replicas: 2
  selector:
    matchLabels:
      app: radiant-ai
  template:
    metadata:
      labels:
        app: radiant-ai
        pool: gpu-inference
        tier: agent
        category: intelligence
    spec:
      nodeSelector:
        pool: gpu-inference
        accelerator: nvidia-gpu
      containers:
        - name: radiant-ai
          image: noor-agent:latest
          imagePullPolicy: Always
          ports:
            - containerPort: 8101
              name: http
          env:
            - name: AGENT_NAME
              value: "radiant-ai"
            - name: AGENT_PORT
              value: "8101"
            - name: AGENT_CATEGORY
              value: "intelligence"
          envFrom:
            - configMapRef:
                name: noor-config
            - secretRef:
                name: noor-secrets
          resources:
            requests:
              cpu: 2000m
              memory: 8Gi
              nvidia.com/gpu: 1
            limits:
              cpu: 4000m
              memory: 16Gi
              nvidia.com/gpu: 1
          livenessProbe:
            httpGet:
              path: /health
              port: 8101
            initialDelaySeconds: 60
            periodSeconds: 10
          readinessProbe:
            httpGet:
              path: /ready
              port: 8101
            initialDelaySeconds: 30
            periodSeconds: 5
---
apiVersion: v1
kind: Service
metadata:
  name: radiant-ai-service
  namespace: noor-platform
spec:
  selector:
    app: radiant-ai
  ports:
    - protocol: TCP
      port: 8101
      targetPort: 8101
  type: ClusterIP
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mentor-matching-agent
  namespace: noor-platform
  labels:
    app: mentor-matching
    pool: gpu-inference
    tier: agent
    category: intelligence
spec:
  replicas: 2
  selector:
    matchLabels:
      app: mentor-matching
  template:
    metadata:
      labels:
        app: mentor-matching
        pool: gpu-inference
        tier: agent
        category: intelligence
    spec:
      nodeSelector:
        pool: gpu-inference
        accelerator: nvidia-gpu
      containers:
        - name: mentor-matching
          image: noor-agent:latest
          imagePullPolicy: Always
          ports:
            - containerPort: 8102
              name: http
          env:
            - name: AGENT_NAME
              value: "mentor-matching"
            - name: AGENT_PORT
              value: "8102"
            - name: AGENT_CATEGORY
              value: "intelligence"
          envFrom:
            - configMapRef:
                name: noor-config
            - secretRef:
                name: noor-secrets
          resources:
            requests:
              cpu: 1000m
              memory: 4Gi
              nvidia.com/gpu: 1
            limits:
              cpu: 2000m
              memory: 8Gi
              nvidia.com/gpu: 1
          livenessProbe:
            httpGet:
              path: /health
              port: 8102
            initialDelaySeconds: 60
            periodSeconds: 10
          readinessProbe:
            httpGet:
              path: /ready
              port: 8102
            initialDelaySeconds: 30
            periodSeconds: 5
---
apiVersion: v1
kind: Service
metadata:
  name: mentor-matching-service
  namespace: noor-platform
spec:
  selector:
    app: mentor-matching
  ports:
    - protocol: TCP
      port: 8102
      targetPort: 8102
  type: ClusterIP
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: predictive-analytics-agent
  namespace: noor-platform
  labels:
    app: predictive-analytics
    pool: gpu-inference
    tier: agent
    category: intelligence
spec:
  replicas: 2
  selector:
    matchLabels:
      app: predictive-analytics
  template:
    metadata:
      labels:
        app: predictive-analytics
        pool: gpu-inference
        tier: agent
        category: intelligence
    spec:
      nodeSelector:
        pool: gpu-inference
        accelerator: nvidia-gpu
      containers:
        - name: predictive-analytics
          image: noor-agent:latest
          imagePullPolicy: Always
          ports:
            - containerPort: 8103
              name: http
          env:
            - name: AGENT_NAME
              value: "predictive-analytics"
            - name: AGENT_PORT
              value: "8103"
            - name: AGENT_CATEGORY
              value: "intelligence"
          envFrom:
            - configMapRef:
                name: noor-config
            - secretRef:
                name: noor-secrets
          resources:
            requests:
              cpu: 2000m
              memory: 8Gi
              nvidia.com/gpu: 1
            limits:
              cpu: 4000m
              memory: 16Gi
              nvidia.com/gpu: 1
          livenessProbe:
            httpGet:
              path: /health
              port: 8103
            initialDelaySeconds: 60
            periodSeconds: 10
          readinessProbe:
            httpGet:
              path: /ready
              port: 8103
            initialDelaySeconds: 30
            periodSeconds: 5
---
apiVersion: v1
kind: Service
metadata:
  name: predictive-analytics-service
  namespace: noor-platform
spec:
  selector:
    app: predictive-analytics
  ports:
    - protocol: TCP
      port: 8103
      targetPort: 8103
  type: ClusterIP
